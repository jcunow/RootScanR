<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate Deep Drive Estimate for Root Systems — deep_drive • RootScanR</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Aleo-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate Deep Drive Estimate for Root Systems — deep_drive"><meta name="description" content="This function analyzes root growth directions in relation to depth gradients.
It calculates the ratio of root pixels growing in the direction of the steepest
depth slope compared to all root pixels."><meta property="og:description" content="This function analyzes root growth directions in relation to depth gradients.
It calculates the ratio of root pixels growing in the direction of the steepest
depth slope compared to all root pixels."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RootScanR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/FlatBedScans_vignettes.html%20articles/MinirhizotronScans_vignettes.html%20articles/Rotation_Bias_vignettes.html">Tutorial</a></li>
<li class="nav-item"><h6 class="dropdown-header" data-toc-skip>DemoFile</h6></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jcunow/RootScanR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate Deep Drive Estimate for Root Systems</h1>
      <small class="dont-index">Source: <a href="https://github.com/jcunow/RootScanR/blob/main/R/deepdrive3.R" class="external-link"><code>R/deepdrive3.R</code></a></small>
      <div class="d-none name"><code>deep_drive.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function analyzes root growth directions in relation to depth gradients.
It calculates the ratio of root pixels growing in the direction of the steepest
depth slope compared to all root pixels.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">deep_drive</span><span class="op">(</span></span>
<span>  DepthMap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  AngleMap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  RootMap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  select.layerRM <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  select.layerDM <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  select.layerAM <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-depthmap">DepthMap<a class="anchor" aria-label="anchor" href="#arg-depthmap"></a></dt>
<dd><p>SpatRast object containing depth information</p></dd>


<dt id="arg-anglemap">AngleMap<a class="anchor" aria-label="anchor" href="#arg-anglemap"></a></dt>
<dd><p>Optional SpatRast with D8 root angles (from terra::terrain(v="flowdir"))</p></dd>


<dt id="arg-rootmap">RootMap<a class="anchor" aria-label="anchor" href="#arg-rootmap"></a></dt>
<dd><p>Optional SpatRast containing segmented, presence-absence root image</p></dd>


<dt id="arg-select-layerrm">select.layerRM<a class="anchor" aria-label="anchor" href="#arg-select-layerrm"></a></dt>
<dd><p>Integer. Specifies which layer to use if the input is a multi-band image. Default is `2`.</p></dd>


<dt id="arg-select-layerdm">select.layerDM<a class="anchor" aria-label="anchor" href="#arg-select-layerdm"></a></dt>
<dd><p>Integer. Specifies which layer to use if the input is a multi-band image. Default is `NULL`.</p></dd>


<dt id="arg-select-layeram">select.layerAM<a class="anchor" aria-label="anchor" href="#arg-select-layeram"></a></dt>
<dd><p>Integer. Specifies which layer to use if the input is a multi-band image. Default is `NULL`.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If return_diagnostics=FALSE, returns numeric value representing the ratio of aligned root pixels
        to total root pixels. If TRUE, returns a list containing the ratio and diagnostic information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">skl_Oulanka2023_Session01_T067</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">im</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">ceiling</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">skl_Oulanka2023_Session01_T067</span><span class="op">)</span><span class="op">/</span><span class="fl">255</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">DepthMap</span> <span class="op">=</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/transpose.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="create_depthmap.html">create_depthmap</a></span><span class="op">(</span><span class="va">im</span>,center.offset<span class="op">=</span><span class="fl">0</span>,tube.thicc<span class="op">=</span><span class="fl">3.5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 100 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 200 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 300 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 400 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 500 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 600 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 700 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 800 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 900 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 1000 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 1100 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 1200 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 1300 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 1400 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 1500 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 1600 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 1700 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 1800 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 1900 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 2000 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 2100 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 2200 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 2300 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 2400 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 2500 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 2600 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 2700 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 2800 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 2900 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 3000 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 3100 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 3200 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 3300 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 3400 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 3500 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 3600 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 3700 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 3800 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 3900 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 4000 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 4100 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 4200 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 4300 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 4400 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 4500 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 4600 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 4700 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 4800 of 4900</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing row 4900 of 4900</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">deep_drive</span><span class="op">(</span>DepthMap <span class="op">=</span> <span class="va">DepthMap</span>, RootMap <span class="op">=</span> <span class="va">im</span>, select.layerRM <span class="op">=</span> <span class="fl">2</span>, select.layerAM <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Warning in main function: No valid pixels found for calculation</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes Cunow.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

