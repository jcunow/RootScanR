<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Analyzing Root Traits from Flatbed Scans with RootScanR in R â€¢ RootScanR</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Aleo-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Analyzing Root Traits from Flatbed Scans with RootScanR in R">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RootScanR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/FlatBedScans_vignettes.html%20articles/MinirhizotronScans_vignettes.html%20articles/Rotation_Bias_vignettes.html">Tutorial</a></li>
<li class="nav-item"><h6 class="dropdown-header" data-toc-skip>DemoFile</h6></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jcunow/RootScanR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Analyzing Root Traits from Flatbed Scans with RootScanR in R</h1>
                        <h4 data-toc-skip class="author">Johannes
Cunow</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jcunow/RootScanR/blob/main/vignettes/FlatBedScans_vignettes.Rmd" class="external-link"><code>vignettes/FlatBedScans_vignettes.Rmd</code></a></small>
      <div class="d-none name"><code>FlatBedScans_vignettes.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="analyzing-root-systems-from-flatbed-scans">Analyzing Root Systems from Flatbed Scans<a class="anchor" aria-label="anchor" href="#analyzing-root-systems-from-flatbed-scans"></a>
</h2>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<div class="section level6">
<h6 id="flatbed-root-scan-analysis-trait-extraction-and-quantification">Flatbed Root Scan Analysis: Trait Extraction and Quantification<a class="anchor" aria-label="anchor" href="#flatbed-root-scan-analysis-trait-extraction-and-quantification"></a>
</h6>
<p>Flatbed scanning allows for the capture of root morphology in a 2D
plane. RootScanR provides a suite of tools for processing flatbed images
of roots, including trait extraction, root length measurement, and
morphology analysis. This vignette will guide you through extracting
root traits from flatbed scans to help quantify root systems for various
ecological studies.</p>
</div>
</div>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install the package from GitHub</span></span>
<span><span class="co"># install.packages("remotes")</span></span>
<span><span class="co"># remotes::install_github("jcunow/RootScanR")</span></span>
<span></span>
<span><span class="co"># Load the package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jcunow/RootScanR" class="external-link">RootScanR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span>  <span class="co"># For data manipulation and visualization</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="key-functionalities-for-flatbed-scan-analysis">Key Functionalities for Flatbed Scan Analysis<a class="anchor" aria-label="anchor" href="#key-functionalities-for-flatbed-scan-analysis"></a>
</h3>
<p>When working with flatbed scans, RootScanR offers these primary
functions:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Image Pre-processing</strong>: Convert and prepare images
for analysis</li>
<li>
<strong>Skeletonization</strong>: Create single-pixel-wide
representation of root structures</li>
<li>
<strong>Root Trait Extraction</strong>: Calculate key morphological
traits (length, diameter, density)</li>
<li>
<strong>Architectural Analysis</strong>: Assess root system
complexity and structure</li>
</ol>
</div>
<div class="section level3">
<h3 id="example-workflow">Example Workflow<a class="anchor" aria-label="anchor" href="#example-workflow"></a>
</h3>
<div class="section level4">
<h4 id="loading-images">1. Loading Images<a class="anchor" aria-label="anchor" href="#loading-images"></a>
</h4>
<p><strong>Purpose</strong>: Import flatbed scan images for
analysis.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load a flatbed scan image (replace with your actual file path)</span></span>
<span><span class="va">flatbed_image</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_flexible_image.html">load_flexible_image</a></span><span class="op">(</span></span>
<span>  <span class="st">"path/to/flatbed_scan.tiff"</span>, </span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the image</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">flatbed_image</span>, main <span class="op">=</span> <span class="st">"Original Flatbed Scan"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="image-pre-processing">2. Image Pre-processing<a class="anchor" aria-label="anchor" href="#image-pre-processing"></a>
</h4>
<p><strong>Purpose</strong>: Prepare the image for analysis by
converting to binary format if needed.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Convert to binary image if not already binary</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># (skip this step if your image is already properly segmented)</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>binary_image <span class="ot">&lt;-</span> RootScanR<span class="sc">::</span>image_threshold</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  flatbed_image,</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  threshold <span class="ot">=</span> <span class="fl">0.4</span>,  <span class="co"># or specify a threshold value</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  select.layer <span class="ot">=</span> <span class="dv">2</span>,  </span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>  method <span class="ot">=</span> <span class="st">"global"</span>,</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>  binary_01 <span class="ot">=</span> <span class="cn">TRUE</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="er">)</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co"># Display binary image</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="fu">plot</span>(binary_image, <span class="at">main =</span> <span class="st">"Binary Root Image"</span>)</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="skeletonization">3. Skeletonization<a class="anchor" aria-label="anchor" href="#skeletonization"></a>
</h4>
<p><strong>Purpose</strong>: Create a single-pixel-wide representation
of the root system for morphological analysis.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Skeletonize the root image</span></span>
<span><span class="va">skeleton</span> <span class="op">&lt;-</span> <span class="fu">skeletonize_roots</span><span class="op">(</span></span>
<span>  <span class="va">binary_image</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"MAT"</span>,           <span class="co"># Medial Axis Transform</span></span>
<span>  output_format <span class="op">=</span> <span class="st">"spatrast"</span> <span class="co"># Return as a SpatRaster object</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualize the skeleton</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">skeleton</span>, main <span class="op">=</span> <span class="st">"Root Skeleton"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="root-trait-extraction">4. Root Trait Extraction<a class="anchor" aria-label="anchor" href="#root-trait-extraction"></a>
</h4>
<p><strong>Purpose</strong>: Calculate quantitative metrics that
describe root system morphology.</p>
<div class="section level5">
<h5 id="branching-structure">4.1 Branching Structure<a class="anchor" aria-label="anchor" href="#branching-structure"></a>
</h5>
<p><strong>Purpose</strong>: Identify key structural elements of the
root system.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Detect root tips and branching points</span></span>
<span><span class="va">skeleton_features</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/detect_skeleton_points.html">detect_skeleton_points</a></span><span class="op">(</span><span class="va">skeleton</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Count root tips (endpoints)</span></span>
<span><span class="va">root_tips</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/count_pixels.html">count_pixels</a></span><span class="op">(</span><span class="va">skeleton_features</span><span class="op">$</span><span class="va">endpoints</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Number of root tips: "</span>, <span class="va">root_tips</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Count branching points</span></span>
<span><span class="va">branching_points</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/count_pixels.html">count_pixels</a></span><span class="op">(</span><span class="va">skeleton_features</span><span class="op">$</span><span class="va">branching_points</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Number of branching points: "</span>, <span class="va">branching_points</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate branching frequency</span></span>
<span><span class="va">branching_frequency</span> <span class="op">&lt;-</span> <span class="va">branching_points</span> <span class="op">/</span> <span class="fu">calculate_root_length</span><span class="op">(</span><span class="va">skeleton</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Branching frequency (per 100 cm): "</span>, <span class="fu"><a href="https://rspatial.github.io/terra/reference/math-generics.html" class="external-link">round</a></span><span class="op">(</span><span class="va">branching_frequency</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="root-length">4.2 Root Length<a class="anchor" aria-label="anchor" href="#root-length"></a>
</h5>
<p><strong>Purpose</strong>: Calculate the total length of all roots in
the image.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate root length using Kimura's method</span></span>
<span><span class="va">root_length</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/root_length.html">root_length</a></span><span class="op">(</span><span class="va">skeleton</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Total root length (cm): "</span>, <span class="fu"><a href="https://rspatial.github.io/terra/reference/math-generics.html" class="external-link">round</a></span><span class="op">(</span><span class="va">root_length</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="root-coverage-and-density-conversion">4.3 Root Coverage and Density Conversion<a class="anchor" aria-label="anchor" href="#root-coverage-and-density-conversion"></a>
</h5>
<p><strong>Purpose</strong>: Assess how much of the scan area is
occupied by roots.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create background (non-root) mask</span></span>
<span><span class="va">background</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">binary_image</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="op">-</span><span class="fl">1</span></span>
<span></span>
<span><span class="co"># Count root and background pixels</span></span>
<span><span class="va">root_pixels</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/count_pixels.html">count_pixels</a></span><span class="op">(</span><span class="va">binary_image</span><span class="op">)</span></span>
<span><span class="va">background_pixels</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/count_pixels.html">count_pixels</a></span><span class="op">(</span><span class="va">background</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate root density (proportion of area covered by roots)</span></span>
<span><span class="va">root_density</span> <span class="op">&lt;-</span> <span class="va">root_pixels</span> <span class="op">/</span> <span class="op">(</span><span class="va">root_pixels</span> <span class="op">+</span> <span class="va">background_pixels</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Root density: "</span>, <span class="fu"><a href="https://rspatial.github.io/terra/reference/math-generics.html" class="external-link">round</a></span><span class="op">(</span><span class="va">root_density</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate root length density (proportion of area covered by roots)</span></span>
<span><span class="va">rootlength_density</span> <span class="op">&lt;-</span> <span class="va">root_length</span> <span class="op">/</span> <span class="op">(</span><span class="va">root_pixels</span> <span class="op">+</span> <span class="va">background_pixels</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Root length density: "</span>, <span class="fu"><a href="https://rspatial.github.io/terra/reference/math-generics.html" class="external-link">round</a></span><span class="op">(</span><span class="va">rootlength_density</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="root-diameter">4.4 Root Diameter<a class="anchor" aria-label="anchor" href="#root-diameter"></a>
</h5>
<p><strong>Purpose</strong>: Estimate the thickness of roots at
different positions.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate root diameters</span></span>
<span><span class="va">diameter_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/root_diameter.html">root_diameter</a></span><span class="op">(</span></span>
<span>  <span class="va">root_map</span>, </span>
<span>  select.layer <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  diagnostics <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  skeleton_method <span class="op">=</span> <span class="st">"MAT"</span>  <span class="co"># Distance transform method</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get summary statistics of root diameters</span></span>
<span><span class="va">diameter_stats</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">diameter_map</span><span class="op">$</span><span class="va">diameters</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>diameters <span class="op">=</span><span class="va">lyr.1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    mean <span class="op">=</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/summarize-generics.html" class="external-link">mean</a></span><span class="op">(</span> <span class="va">diameters</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">diameters</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    median <span class="op">=</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/summarize-generics.html" class="external-link">median</a></span><span class="op">(</span><span class="va">diameters</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># or</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://personality-project.org/r/psych/" class="external-link">psych</a></span><span class="op">)</span></span>
<span><span class="va">diameter_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/describe.html" class="external-link">describe</a></span><span class="op">(</span><span class="va">diameter_map</span><span class="op">$</span><span class="va">diameters</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Root diameter statistics (mm):"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">diameter_stats</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualize diameter distribution</span></span>
<span><span class="va">h</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/hist.html" class="external-link">hist</a></span><span class="op">(</span></span>
<span>  <span class="va">diameter_map</span><span class="op">$</span><span class="va">diameters</span>, </span>
<span>  main <span class="op">=</span> <span class="st">"Root Diameter Distribution"</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Diameter (mm)"</span>, </span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">h</span><span class="op">$</span><span class="va">mids</span>, <span class="va">h</span><span class="op">$</span><span class="va">counts</span>, type <span class="op">=</span> <span class="st">"h"</span>, lwd <span class="op">=</span> <span class="fl">10</span>, col <span class="op">=</span> <span class="st">"lightblue"</span>,</span>
<span>     log <span class="op">=</span> <span class="st">"y"</span>, xlab <span class="op">=</span> <span class="st">"Log-scaled Data"</span>, ylab <span class="op">=</span> <span class="st">"Counts"</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Histogram with Log-Scaled Y-Axis"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="visualization-and-export">5. Visualization and Export<a class="anchor" aria-label="anchor" href="#visualization-and-export"></a>
</h4>
<p><strong>Purpose</strong>: Create visual representations of results
and export data for further analysis.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span></span>
<span><span class="co"># overlay plotting</span></span>
<span><span class="va">g1</span> <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplotGrob.html" class="external-link">ggplotGrob</a></span><span class="op">(</span><span class="va">flatbed_image</span><span class="op">)</span></span>
<span><span class="va">g2</span> <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplotGrob.html" class="external-link">ggplotGrob</a></span><span class="op">(</span><span class="va">skeleton</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grid/grid.draw.html" class="external-link">grid.draw</a></span><span class="op">(</span><span class="va">g1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grid/grid.draw.html" class="external-link">grid.draw</a></span><span class="op">(</span><span class="va">g2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Export results to CSV</span></span>
<span><span class="va">export_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  sample_id <span class="op">=</span> <span class="st">"example_scan"</span>,</span>
<span>  total_length_cm <span class="op">=</span> <span class="va">root_length</span>,</span>
<span>  root_tips <span class="op">=</span> <span class="va">root_tips</span>,</span>
<span>  branching_points <span class="op">=</span> <span class="va">branching_points</span>,</span>
<span>  branching_frequency <span class="op">=</span> <span class="va">branching_frequency</span>,</span>
<span>  mean_diameter_mm <span class="op">=</span> <span class="va">diameter_stats</span><span class="op">$</span><span class="va">mean</span>,</span>
<span>  root_density <span class="op">=</span> <span class="va">root_density</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">export_results</span>, <span class="st">"flatbed_scan_results.csv"</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="section level6">
<h6 id="section"></h6>
<p>For more detailed information about specific functions and additional
features, please refer to the function documentation and the package
GitHub repository at <a href="https://github.com/jcunow/RootScanR" class="external-link">https://github.com/jcunow/RootScanR</a>.</p>
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes Cunow.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
