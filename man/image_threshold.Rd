% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/LilHelpers3.R
\name{image_threshold}
\alias{image_threshold}
\title{Threshold an image to binarize image}
\usage{
image_threshold(
  img,
  threshold = 0.4,
  method = "global",
  window_size = 15,
  select.layer = 2,
  mask.layer = 1,
  binary_01 = FALSE
)
}
\arguments{
\item{img}{SpatRaster object}

\item{threshold}{Numeric value between 0 and 1 representing the fraction of the reference value.
For global thresholding, this is the fraction of the global maximum.
For adaptive thresholding, this is the fraction of the local mean.}

\item{method}{Character string specifying thresholding method: "global" or "adaptive"}

\item{window_size}{Integer specifying window size for adaptive thresholding (must be odd)}

\item{select.layer}{Integer or NULL specifying which layer should be used for thresholding. If NULL, average of all layers is used.}

\item{mask.layer}{Integer or NULL specifying which layer preserves mask sections. If NULL, no mask is applied.}

\item{binary_01}{Logical; if TRUE, output values are strictly 0 and 1. If FALSE, uses the maximum value of the input.}
}
\value{
SpatRaster object
}
\description{
Threshold an image to binarize image
}
\examples{
img = terra::rast(seg_Oulanka2023_Session03_T067)
# Global thresholding (threshold = 0.3 means pixels > 30\% of global max value become 1)
binary_img1 = image_threshold(img, threshold = 0.3, method = "global")
# Adaptive thresholding (threshold = 0.9 means pixels > 90\% of local mean become 1)
binary_img2 = image_threshold(img,
                 threshold = 0.9, method = "adaptive",
                 window_size = 15, binary_01 = TRUE)
# Using average of all layers with no mask
binary_img3 = image_threshold(img, select.layer = NULL, mask.layer = NULL)
}
